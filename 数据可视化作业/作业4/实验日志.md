> 1911590 周安琪

# 运行基于 d3 的直方图可视化项目

复制附件项目或其他已有项目

> 注意：一般不复制 node_modules，dist 等文件，它们比较大，而且可通过安装，运行等方式自动生成。

- 配置项目

  在项目目录下打开终端，输入`npm i `

  ![image-20221116010442268](C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116010442268.png)

  一直停在这里，我上网搜了一下，说是换成淘宝的镜像源：https://blog.csdn.net/weixin_46182244/article/details/121302702

  果然好了。我猜挂梯子应该也有一样的效果吧。

  ![image-20221116011436726](C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116011436726.png)

- 运行项目

  在项目目录下打开终端，输入`npm start`如没有更改设置，项目将自动在 http://localhost:8080 运行，可以打开网址查看项目。 

  我还以为刚输入指令立刻就能看，但其实不是……要等这个转完才行。

  ![image-20221116011418071](C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116011418071.png)

  竟然转了这么久……真有你的哈（第二次build就快了）

  ![image-20221116011837493](C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116011837493.png)

  （一件怪异的事情：我直接`127.0.0.1`不行，非得`localhost`，我不理解，我查了一下说是localhost不走网卡的）

  <img src="C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116011944044.png" alt="image-20221116011944044" style="zoom: 50%;" />

- 终止项目 在终端按 Ctrl+C，再输入 y 

- 理解项目 理解文件之间的引用关系，理解项目文件，特别是 histogram.js 中每行代码的意图。

- 调整项目 通过修改 main.js, histogram.js 和 style.css，尝试不同图表调整（适应屏幕范围/更改图表 颜色/增加文字说明/切换图表类型…） 

注意：附件项目中的代码来自以下网址。可学习附件中的代码组成和 d3 案例的关联， 尝试将其他 d3 案例转化为可复用的可视化项目。 https://observablehq.com/@d3/histogram

# 使用 d3 在一个 html 中生成两个图表

1. 仿照 Nightingale 手绘的图表（见下图），收集自己的一周作息数据，使用 d3.js 生成相似图表

   <img src="C:/Users/16834/Desktop/notebook4/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%9C%E4%B8%9A/%E4%BD%9C%E4%B8%9A4/image-20221116005416661-16685312569631.png" alt="image-20221116005416661" style="zoom:50%;" />

   - 要求如下： 

     - 将原图中用于编码 12 个月份的扇形改为编码一周的 7 天
     - 使用不同颜色编码自己每天上课/自习/运动/娱乐这四种活动，时长用形状面积表示

     |      | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
     | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
     | 实习 | 0.5  | 2    | 4.5  | 2.3  | 4.3  | 0    | 0    |
     | 学习 | 3    | 3.5  | 1.9  | 2.5  | 0.5  | 2.3  | 2.5  |
     | 运动 | 0.5  | 0.1  | 0.2  | 0.1  | 0.6  | 1    | 1.2  |
     | 娱乐 | 4    | 4.5  | 3    | 5    | 4    | 5    | 6    |

2. 评估你在实验 3 中使用 echarts 生成的图表，将你觉得最不理想的一个图表重新设计后使用 d3 生成。

   优化方向提示如下： 

   - 考虑语义，选择更合适的编码方式 
   - 丰富内容，增加对相关数据的展示 
   - 完善图例等标注信息

需要提交的内容： 请将包含项目文件（包括 src，package.json 等，但不包括 node_modules）打包成一个被命 名为 学号+姓名（实验 4） 的 zip 文件，在 11.19（周六）结束之前发送至课程公邮 （vis_wxm@163.com）